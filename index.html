<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SIMBA - Sistem Informasi MSDS Bahan Kimia</title>
  <style>
    /* ===== RESET & GLOBAL ===== */
    * {margin:0; padding:0; box-sizing:border-box;}
    body {font-family: Arial, sans-serif; background:#fff; color:#333;}
    a {text-decoration:none; color:inherit;}

    /* ===== HEADER ===== */
    header {
      background:#2196f3;
      color:#fff;
      padding:15px 30px;
      display:flex;
      justify-content:space-between;
      align-items:center;
      flex-wrap:wrap;
    }
    header h1 {
      font-size:28px;
      display:flex;
      align-items:center;
      font-weight:bold;
    }
    header h1 span {
      margin-left:8px;
    }
    nav a {
      margin:0 10px;
      font-weight:bold;
      color:#fff;
    }
    nav a:hover {text-decoration:underline;}

    /* ===== SECTIONS ===== */
    section {padding:30px;}
    h2 {margin-bottom:20px; font-size:22px; color:#2196f3;}

    /* ===== HERO BERANDA ===== */
    .hero {
      text-align:center;
      margin-bottom:30px;
    }
    .search-bar {
      margin:20px auto;
      display:flex;
      justify-content:center;
    }
    .search-bar input {
      width:60%;
      padding:12px;
      border:2px solid #2196f3;
      border-radius:25px 0 0 25px;
      outline:none;
    }
    .search-bar button {
      padding:12px 20px;
      border:none;
      background:#2196f3;
      color:#fff;
      border-radius:0 25px 25px 0;
      cursor:pointer;
    }

    /* ===== CARDS ===== */
    .grid {
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
      gap:20px;
    }
    .card {
      background:#f9f9f9;
      padding:15px;
      border-radius:12px;
      box-shadow:0 2px 5px rgba(0,0,0,0.1);
      cursor:pointer;
      transition:0.3s;
    }
    .card:hover {transform:translateY(-5px);}

    /* ===== MODAL ===== */
    .modal {
      position:fixed;
      top:0; left:0; width:100%; height:100%;
      background:rgba(0,0,0,0.6);
      display:none;
      justify-content:center;
      align-items:center;
    }
    .modal-content {
      background:#fff;
      padding:20px;
      border-radius:10px;
      width:80%;
      max-height:80%;
      overflow:auto;
    }
    .close-btn {
      float:right;
      font-weight:bold;
      cursor:pointer;
      color:#2196f3;
    }
    iframe {width:100%; height:400px; border:none; margin-top:10px;}

    /* ===== RESPONSIVE ===== */
    @media(max-width:768px){
      .search-bar input {width:70%;}
    }
  </style>
</head>
<body>

  <!-- ===== HEADER ===== -->
  <header>
    <h1>
      <!-- Logo SIMBA (huruf I diganti tabung reaksi SVG sederhana) -->
      <svg width="24" height="40" xmlns="http://www.w3.org/2000/svg">
        <rect x="8" y="5" width="8" height="30" rx="4" fill="#64b5f6"/>
        <circle cx="12" cy="12" r="2" fill="#fff"/>
        <circle cx="14" cy="18" r="2" fill="#fff"/>
      </svg>
      <span>SIMBA</span>
    </h1>
    <nav>
      <a href="#beranda">Beranda</a>
      <a href="#msds">MSDS</a>
      <a href="#pengujian">Pengujian</a>
      <a href="#ghs">Piktogram GHS</a>
      <a href="#apd">APD</a>
    </nav>
  </header>

  <!-- ===== BERANDA ===== -->
  <section id="beranda">
    <div class="hero">
      <h2>Selamat Datang di Website SIMBA</h2>
      <p>Pusat informasi MSDS, piktogram GHS, APD, dan panduan K3 laboratorium.</p>
    </div>
    <div class="search-bar">
      <input type="text" id="searchInput" placeholder="Cari nama bahan kimia / rumus / pengujian...">
      <button onclick="searchMsds()">üîç</button>
    </div>

    <h2>Top 5 Bahan Kimia</h2>
    <div id="topChart" class="grid"></div>

    <h2>Simbol GHS of the Day</h2>
    <div id="ghsDay" class="card"></div>

    <h2>Tips K3 of the Day</h2>
    <div id="tipsDay" class="card"></div>
  </section>

  <!-- ===== MSDS ===== -->
  <section id="msds">
    <h2>Daftar MSDS</h2>
    <div id="msdsList" class="grid"></div>
  </section>

  <!-- ===== PENGUJIAN ===== -->
  <section id="pengujian">
    <h2>Kategori Pengujian</h2>
    <div id="ujiList" class="grid"></div>
  </section>

  <!-- ===== GHS ===== -->
  <section id="ghs">
    <h2>Piktogram GHS</h2>
    <div id="ghsList" class="grid"></div>
  </section>

  <!-- ===== APD ===== -->
  <section id="apd">
    <h2>Alat Pelindung Diri</h2>
    <div id="apdList" class="grid"></div>
  </section>

  <!-- ===== MODAL DETAIL ===== -->
  <div id="detailModal" class="modal">
    <div class="modal-content">
      <span class="close-btn" onclick="closeModal()">X</span>
      <div id="modalContent"></div>
    </div>
  </div>

<script>
/* ==== SAMPLE DATA (akan diambil dari msds_data.json) ==== */
const sampleData = [
  {"Nama":"Aseton","Formula":"C3H6O","Pengujian":"Titik Didih","GHS":"Flammable","APD":"Goggles, Gloves","Deskripsi":"Pelarut organik mudah terbakar.","PDF":""},
  {"Nama":"HCl","Formula":"HCl","Pengujian":"Kadar Asam","GHS":"Corrosive","APD":"Goggles, Gloves, Lab Coat","Deskripsi":"Asam kuat bersifat korosif.","PDF":""},
];

/* ==== TOP 5 ==== */
function loadTop5(){
  const top = document.getElementById("topChart");
  sampleData.slice(0,5).forEach(d=>{
    const div=document.createElement("div");
    div.className="card";
    div.innerHTML=`<b>${d.Nama}</b><br>Rumus: ${d.Formula}<br>Uji: ${d.Pengujian}`;
    top.appendChild(div);
  });
}

/* ==== MSDS LIST ==== */
function loadMsds(){
  const msdsList=document.getElementById("msdsList");
  sampleData.forEach((d,i)=>{
    const div=document.createElement("div");
    div.className="card";
    div.innerHTML=`<b>${d.Nama}</b><br>${d.Formula}<br>${d.Pengujian}`;
    div.onclick=()=>showDetail(d);
    msdsList.appendChild(div);
  });
}

/* ==== DETAIL MODAL ==== */
function showDetail(d){
  const modal=document.getElementById("detailModal");
  const c=document.getElementById("modalContent");
  c.innerHTML=`
    <h2>${d.Nama}</h2>
    <p><b>Rumus:</b> ${d.Formula}</p>
    <p><b>Pengujian:</b> ${d.Pengujian}</p>
    <p><b>Simbol GHS:</b> <img src="assets/ghs/${d.GHS.toLowerCase()}.png" width="50"></p>
    <p><b>APD:</b> ${d.APD}</p>
    <p>${d.Deskripsi}</p>
    ${d.PDF ? `<iframe src="${d.PDF}"></iframe>` : ""}
  `;
  modal.style.display="flex";
}
function closeModal(){document.getElementById("detailModal").style.display="none";}

/* ==== PENGUJIAN ==== */
function loadUji(){
  const ujiList=document.getElementById("ujiList");
  const kategori={};
  sampleData.forEach(d=>{
    if(!kategori[d.Pengujian]) kategori[d.Pengujian]=[];
    kategori[d.Pengujian].push(d.Nama);
  });
  for(const k in kategori){
    const div=document.createElement("div");
    div.className="card";
    div.innerHTML=`<b>${k}</b><br>${kategori[k].join(", ")}`;
    ujiList.appendChild(div);
  }
}

/* ==== GHS STATIC LIST ==== */
const GHS_LIST=[
  {name:"Flammable", desc:"Mudah terbakar"},
  {name:"Corrosive", desc:"Merusak kulit/logam"},
  {name:"Toxic", desc:"Beracun akut"},
  {name:"Health", desc:"Bahaya kesehatan"},
];
function renderGhs(){
  const g=document.getElementById("ghsList");
  GHS_LIST.forEach(d=>{
    const div=document.createElement("div");
    div.className="card";
    div.innerHTML=`<img src="assets/ghs/${d.name.toLowerCase()}.png" width="50"><br><b>${d.name}</b><br>${d.desc}`;
    g.appendChild(div);
  });
}

/* ==== APD STATIC LIST ==== */
const APD_LIST=[
  {name:"Goggles", desc:"Melindungi mata"},
  {name:"Gloves", desc:"Melindungi tangan"},
  {name:"Lab Coat", desc:"Melindungi pakaian"},
  {name:"Respirator", desc:"Melindungi pernapasan"},
];
function renderApd(){
  const a=document.getElementById("apdList");
  APD_LIST.forEach(d=>{
    const div=document.createElement("div");
    div.className="card";
    div.innerHTML=`<img src="assets/apd/${d.name.toLowerCase().replace(" ","")}.png" width="50"><br><b>${d.name}</b><br>${d.desc}`;
    a.appendChild(div);
  });
}

/* ==== OF THE DAY ==== */
const GHS_DAY=["Flammable","Corrosive","Toxic","Health"];
const TIPS=["Gunakan goggles saat kerja dengan bahan korosif","Jangan makan di laboratorium","Simpan bahan mudah terbakar jauh dari panas"];
function loadDaily(){
  const idx=new Date().getDate()%GHS_DAY.length;
  document.getElementById("ghsDay").innerHTML=`<img src="assets/ghs/${GHS_DAY[idx].toLowerCase()}.png" width="50"><br>${GHS_DAY[idx]}`;
  document.getElementById("tipsDay").innerText=TIPS[idx];
}

/* ==== SEARCH ==== */
function searchMsds(){
  const q=document.getElementById("searchInput").value.toLowerCase();
  alert("Fitur search demo: cari '"+q+"'");
}

/* ==== INIT ==== */
loadTop5(); loadMsds(); loadUji(); renderGhs(); renderApd(); loadDaily();
</script>

</body>
</html>
